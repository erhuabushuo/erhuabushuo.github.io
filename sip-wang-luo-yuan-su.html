<!doctype html>
<html lang="cn" itemscope itemtype="http://schema.org/Person">
<head>
  <meta charset="utf-8">
  <!-- Site Meta Data -->
  <title>SIP - 网络元素</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="erhuabushuo(@)gmail.com">

  <link rel="shortcut icon" href="">

  <!-- schema.org -->
  <meta itemprop="name" content="疯人院主任">
  <meta itemprop="image" content="">
  <meta itemprop="description" content="">

  <!-- Style Meta Data -->
  <link rel="stylesheet" href="/theme/css/milligram.css" type="text/css" />
  <link rel="stylesheet" href="/theme/css/custom.css" type="text/css" />

  <!-- Feed Meta Data -->

  <!-- Twitter Feed -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="">
  <meta name="twitter:image" content="">

<meta name="twitter:creator" content="">
<meta name="twitter:url" content="/sip-wang-luo-yuan-su.html">
<meta name="twitter:title" content="疯人院主任 ~ SIP - 网络元素">
<meta name="twitter:description" content="存在多个实体来帮助SIP构建网络。在SIP，所有网络元素都是通过SIP URI（Uniform Resourec Identifier)来标识，类似地址一样。含有以下网络元素： User Agent Proxy Server Registrar Server Redirect Server Location Server User Agent 它是终端（endpoint），是SIP网络元素中最重要的成分。一个endpoint可以创建，修改或者终止一个会话。User agents是SIP网络中最智能的设备。它可以是softphone， 手机或者笔记本电脑。通常User agents被逻辑上分为两部分 — User Agent Client (UAC) - 该实体发送一个请求并接收响应 User Agent Server (UAS) - 该实力接收一个请求并发送响应 SIP基于client-server架构，主叫电话扮演客户端角色创建一个呼叫，被叫电话扮演者服务端角色响应呼叫。 Proxy Server 该网络元素从user agent接收请求并发送到另一个用户 ...">

<!-- Facebook Meta Data -->
<meta property="og:title" content="疯人院主任 ~ SIP - 网络元素" />
<meta property="og:description" content="存在多个实体来帮助SIP构建网络。在SIP，所有网络元素都是通过SIP URI（Uniform Resourec Identifier)来标识，类似地址一样。含有以下网络元素： User Agent Proxy Server Registrar Server Redirect Server Location Server User Agent 它是终端（endpoint），是SIP网络元素中最重要的成分。一个endpoint可以创建，修改或者终止一个会话。User agents是SIP网络中最智能的设备。它可以是softphone， 手机或者笔记本电脑。通常User agents被逻辑上分为两部分 — User Agent Client (UAC) - 该实体发送一个请求并接收响应 User Agent Server (UAS) - 该实力接收一个请求并发送响应 SIP基于client-server架构，主叫电话扮演客户端角色创建一个呼叫，被叫电话扮演者服务端角色响应呼叫。 Proxy Server 该网络元素从user agent接收请求并发送到另一个用户 ..." />
<meta property="og:image" content="" />
</head>

<body>
    <div class="container">

    <!-- Navbar -->
      <div class="navbar">
        <ul>
            <div>
                <li>
                    <a href=""><h3>疯人院主任</h3></a>
                </li>
                <li>
                </li>
            </div>
        </ul>
      </div>

  <!-- Sidebar -->
    <sidebar>
        <ul class="static-item">

        </ul>        

        <ul>
                <div class="cat-border">
                <li style="color: #F2F1EF; background-color: #6C7A89;">Categories</li>
                    <li><a href="/category/bluetooth.html">Bluetooth</a></li>
                    <li><a href="/category/flask.html">Flask</a></li>
                    <li><a href="/category/programming.html">Programming</a></li>
                    <li><a href="/category/python.html">Python</a></li>
                    <li><a href="/category/sip.html">SIP</a></li>
                    <li><a href="/category/vue.html">Vue</a></li>
                </div>
        </ul>

            <h2><br/>BLOGROLLS</h2>
            <ul>
                    <li><a href="http://banshenghuo.com/">伴生活</a></li>
                    <li><a href="http://doordu.com/">多度科技</a></li>
            </ul> 
   
        <p> 
                <span>
                    <a href="mailto:erhuabushuo(at)gmail.com" target="_blank">
                        <img class="social-icons-m" src="/theme/images/icons/mail.png">
                    </a>
                </span>
                <span>
                    <a href="http://github.com/erhuabushuo" target="_blank">
                        <img class="social-icons-m" src="/theme/images/icons/github.png">
                    </a>
                </span>
        </p>
        <p>
        </p>
        <p>
        </p>
    </sidebar>
    
    <maincontent>
<h2>
    <a href="/sip-wang-luo-yuan-su.html" rel="bookmark" title="Permalink to SIP - 网络元素">SIP - 网络元素</a>
</h2>

<div>
    <b>By: </b><a href="/author/erhuabushuogmailcom.html">erhuabushuo(@)gmail.com</a><b>    On: </b>五 17 八月 2018<br />
    <b>In: </b><a href="/category/sip.html" rel="bookmark" title="Permalink to SIP">SIP</a><br />
    <em><b>Tags: </b>
    </em>
    <hr>
</div>

<div>
    <mainarticle>
    <p>存在多个实体来帮助SIP构建网络。在SIP，所有网络元素都是通过SIP URI（Uniform Resourec Identifier)来标识，类似地址一样。含有以下网络元素：</p>
<ul>
<li>User Agent</li>
<li>Proxy Server</li>
<li>Registrar Server</li>
<li>Redirect Server</li>
<li>Location Server</li>
</ul>
<h2>User Agent</h2>
<p>它是终端（endpoint），是SIP网络元素中最重要的成分。一个endpoint可以创建，修改或者终止一个会话。User agents是SIP网络中最智能的设备。它可以是softphone， 手机或者笔记本电脑。通常User agents被逻辑上分为两部分 —</p>
<ul>
<li>User Agent Client (UAC) - 该实体发送一个请求并接收响应</li>
<li>User Agent Server (UAS) - 该实力接收一个请求并发送响应</li>
</ul>
<p>SIP基于client-server架构，主叫电话扮演客户端角色创建一个呼叫，被叫电话扮演者服务端角色响应呼叫。</p>
<h2>Proxy Server</h2>
<p>该网络元素从user agent接收请求并发送到另一个用户</p>
<ul>
<li>基本上proxy server的角色就像是个路由器</li>
<li>它能解析SIP请求并且通过URI的辅助继续发送请求</li>
<li>proxy server处在两个user agents之间</li>
<li>在源头和目的之间最大可以经过70个proxy servers</li>
</ul>
<p>存在两种类型的proxy servers</p>
<ul>
<li>Stateless Proxy Server - 它简单转发接收到的消息，这类服务器不会存储一个呼叫或者一个事务任何信息。</li>
<li>Stateful Proxy Server - 这类proxy server追踪每个请求及响应，它可以在另一端长时间没有回复时重传请求。</li>
</ul>
<h2>Registrar Server</h2>
<p>Registrar server接收来自user agents的注册请求，它帮助用户在网路中进行鉴权。它将URI和用户的位置存储在数据库中，来帮助网络中其他SIP Servers。</p>
<p>我们来看看SIP注册过程：</p>
<p><img alt="" src="https://www.tutorialspoint.com/session_initiation_protocol/images/sip_registration_example.jpg" /></p>
<p>这里主叫方想注册到TMC域名下。所以它发送了REGISTER请求到TMC的Registrar server，服务器返回了200 OK响应授权给到客户端。</p>
<h2>Redirect Server</h2>
<p>Redirect server接收请求并从注册服务器创建的location database(位置数据库)找到接收方。</p>
<p>Redirect server使用数据库来获取到位置信息后，通过返回3xx(Redirect response)给到用户，我们后面会细致讲解该返回码。</p>
<h2>Location Server</h2>
<p>Location server提供了关于被叫可能存在的位置信息给到redirect和proxy servers。</p>
<p>只有proxy server或者redirect server可以和location server通信。</p>
<p>以下图示描述了在完成一个会话中每个网络元素所扮演的角色。</p>
<p><img alt="" src="https://www.tutorialspoint.com/session_initiation_protocol/images/location_server.jpg" /></p>
<h2>SIP - 系统架构</h2>
<p>SIP结构化为分层协议，也就以为着它通过行为分为一组独立的进程来接偶每个操作。</p>
<p><img alt="" src="https://www.tutorialspoint.com/session_initiation_protocol/images/system_architecture.jpg" /></p>
<ul>
<li>SIP最底部是syntax和encoding。编码使用是Backus-Naur Form grammar(BNF)。</li>
<li>第二层是tranport layer。定义了如何通过网络客户端发送请求和接收响应，服务端接收请求和发送响应。所有的SIP元素包含一个transport layer。</li>
<li>接下来的是transaction layer.一个transaction是客户端事务发送的请求（使用transport layer）到服务端，伴随的所有由该请求所返回的服务器响应。任何由user agent client(UAC)发起的工作都会产生系列事务。Stateless proxies不包含transaction layer。</li>
<li>在transaction layer上方的叫做transaction user。每个SIP实体都是transaction user，Stateless proxies除外。</li>
</ul>
    </mainarticle>
</div>
<hr>
        
<div>
        <i>If you found the article helpful, please share or cite the article, and spread the word:</i>
            <p style="margin-top: 2%;">
                <span><a target="_blank" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=400,width=700');return false;" title="Twitter" href="https://twitter.com/share?url=/sip-wang-luo-yuan-su.html&text=SIP - 网络元素&via="><img class="social-icons-a" src="/theme/images/icons/twitter.png"></a></span>
                <span><a target="_blank" title="Facebook" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=500,width=700');return false;" href="https://www.facebook.com/sharer.php?u=/sip-wang-luo-yuan-su.html&t=SIP - 网络元素"><img class="social-icons-a" src="/theme/images/icons/facebook.png"></a></span>

                <a  target="_blank" title="Linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=/sip-wang-luo-yuan-su.html&title=SIP - 网络元素" rel="nofollow" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=450,width=650');return false;"><img class="social-icons-a" src="/theme/images/icons/linkedin.png"></a>
            </p>
</div>
<hr>
    <p><i>For any feedback or corrections, please write in to: </i><b> erhuabushuo(@)gmail.com </b></p>
        
    </maincontent>

  <!-- Analytics -->

  </div>
</body>

</html>